URL(Uniform Resource Locator)은 인터넷의 리소스를 가리키는 표준이름이다

URL은 전자정보 일부를 가리키고 그곳이 어디에 있고 어떻게 접근할 수 있는지 알려준다


## 2.1 인터넷의 리소스 탐색하기

URL은 브라우저가 정보를 찾는데 필요한 리소스의 위치를 가리키며, 사람과 애플리케이션이 인터넷상의 리소스를 찾고 사용하며 공유할 수 있다

URL은 통합 자원 식별자(Uniform Resource Identifier) 혹은 URI라고 불리는 더 일반화된 부류의 부분집합이다

URN은 현재 리소스의 위치와 관계없이 이름만으로 리소스를 식별하며, URL은 리소스가 어디있는지 설명해서 리소스를 식별한다

대부분 URL은 세 부분으로 이루어진 표준 포맷을 따른다
-   첫 번째 부분은 스킴(scheme)이라고 불리는데, 리소스에 접근하기 위해 사용되는 프로토콜을 서술한다. 보통 HTTP 프로토콜(http://) 이다
-   두 번째 부분은 서버의 인터넷 주소를 제공한다 ([www.naver.com](http://www.naver.com))
-   마지막은 웹 서버의 리소스를 가리킨다 (/index.html)

URL은 HTTP 프로토콜이 아닌 다른 가용한 프로토콜을 사용할 수도 있다 (E-Mail, FTP RTSP…)

대부분의 URL은 동일하게 ‘스킴://서버위치/경로’ 구조로 이루어져 있으며, 모든 사람이 같은 방식으로 이름을 써서 리소스를 찾을 수 있도록, 작명 규칙을 가진 것이다


### 2.1.1 URL이 있기 전 암흑의 시대

웹과 URL이 있기 전에는 애플리케이션마다 다르게 가지고 있는 분류 방식을 사용했다

URL이 생긴 이후로는 많은 브라우저가 리소스를 가져오는 데 사용되는 프로토콜과 접근 방식이 무엇인지 알 필요가 없다

---

## 2.2 URL 문법

URL로 인터넷상의 모든 리소스를 찾을 수는 있지만, 리소스들은 다른 스킴을 통해 접근할 수 있으며, URL 문법은 스킴에 따라 달라진다

다른 URL 스킴을 사용한다는 것이 다른 문법을 사용한다는 뜻은 아니다

대부분의 URL 스킴의 문법은 일반적으로 9개 부분으로 나뉜다

<스킴>://<사용자이름>:<비밀번호>@<호스트>:<포트>/<경로>;<파라미터>?<질의>#<프래그먼트>
-   스킴: 리소스를 가져오려면 어떤 프로토콜을 사용하여 서버에 접근해야 하는지 가리킨다
-   사용자 이름: 몇몇 스킴은 리소스에 접근을 하기 위해 사용자 이름을 필요로 한다
-   비밀번호: 사용자의 비밀번호를 가리킨다
-   호스트: 리소스를 호스팅하는 서버의 호스트 명이나 IP 주소
-   포트: 리소스를 호스팅하는 서버가 열어놓은 포트번호
-   경로: 서버 내 리소스가 서버 어디에 있는지 가리킨다. 경로 컴포넌트의 문법은 서버와 스킴에 따라 다르다
-   파라미터: 특정 스킴들에서 입력 파라미터를 기술하는 용도로 사용하며, 이름/값을 쌍으로 사용한다
-   질의: 스킴에서 애플리케이션에 파라미터를 전달하는데 쓰인다
-   프래그먼트: 리소스의 조각이나 일부분을 가리키는 이름이며, 클라이언트에서만 사용한다


### 2.2.1 스킴: 사용할 프로토콜

주어진 리소스에 어떻게 접근하는지 알려주는 중요한 정보이다

URL을 해석하는 애플리케이션이 어떤 프로토콜을 사용하여 리소스를 요청해야 하는지 알려준다


### 2.2.2 호스트와 포트

애플리케이션이 인터넷에 있는 리소스를 찾으려면, 호스팅하고 있는 장비와 장비 내에서 접근할 수 있는 서버가 어디에 있는지 알아야한다

호스트와 포트는 그 두가지 정보를 제공해준다


### 2.2.3 사용자 이름과 비밀번호

많은 서버가 자신이 가지고 있는 데이터에 접근을 허용하기 전에 사용자 이름과 비밀번호를 요구한다

사용자 이름과 비밀번호를 기술하지 않은 경우 기본값으로 사용자 이름은 ‘default’, 비밀번호는 브라우저마다 가지고 있는 특별한 기본값을 사용한다


### 2.2.4 경로

URL의 경로 컴포넌트는 리소스가 서버의 어디에 있는지 알려주며, 계층적 파일 시스템 경로과 유사한 구조를 가진다

경로 컴포넌트는 ‘/’ 문자를 기준으로 경로조각으로 나뉘며, 각 경로조각은 자체 파라미터 컴포넌트를 가질 수 있다


### 2.2.5 파라미터

URL을 사용하는 애플리케이션이 리소스에 접근하려면 프로토콜 파라미터가 필요하다

프로토콜 파라미터가 없으면, 다른 한편에 있는 서버는 그 요청을 잘못 처리하거나 처리하지 않는다

URL의 파라미터 컴포넌트는, 서버에 정확한 요청을 하기 위해 필요한 입력 파라미터를 받는데 사용한다

컴포넌트는 이름/값 쌍의 리스트로 ‘;’ 문자로 구분하여 URL에 기술한다


### 2.2.6 질의 문자열

데이터베이스 같은 서비스들은 요청받을 리소스 형식의 범위를 좁히기 위해서 질문이나 질의를 받을 수 있다

물음표(?)의 우측의 있는 값들을 질의 컴포넌트라고 부른다

특정 문자들을 제외하고는 질의 컴포넌트 포맷에 제약사항은 없다

편의상 ‘&’로 나뉜 ‘이름=값' 쌍 형식의 질의 문자열을 사용한다


### 2.2.7 프래그먼트

HTML 같은 리소스 형식들은 본래보다 더 작게 나뉠 수 있다

리소스의 특정 부분을 가리킬 수 있도록, URL은 리소스 내의 조각을 가리킬 수 있는 프래그먼트 컴포넌트를 제공한다

URL의 오른쪽에 # 문자에 이어서 온다

일반적으로 HTTP 서버는 객체 일부가 아닌 전체만 다루기 때문에, 클라이언트는 서버에 프래그먼트를 전달하지 않는다

---

## 2.3 단축 URL

### 2.3.1 상대 URL

URL은 상대 URL과 절대 URL 두가지로 나뉜다

절대 URL은 리소스에 접근하는데 필요한 모든 정보를 가지고 있다

상대 URL은 모든 정보를 담고 있지 않으며, 상대 URL로 리소스에 접근하기 위해 필요한 정보를 얻기위해, 기저(base)라고 하는 다른 URL을 사용해야 한다

상대 URL은 URL을 짧게 표기하는 방식이다

ex([http://www.naver.com/index.html](http://www.naver.com/index.html))
-   [http://www.naver.com](http://www.naver.com) : 기저 URL
-   ./test.html: 상대 URL
-   [http://www.naver.com/test.html](http://www.naver.com/test.html) : 새로 만든 절대 URL

상대 URL을 사용하면 리소스 집합을 쉽게 변경할 수 있다

또 문서 집합의 위치를 변경하더라도, 새로운 기저 URL에 의해 해석될 수 있다


### 2.3.2 URL 확장

**호스트명 확장**
- 호스트명 확장 기능을 지원하는 브라우저는 입력된 호스트명을 전체 호스트 명으로 확장할 수 있다

**히스토리 확장**
- 과거에 사용자가 방문했던 URL 기록을 저장해 놓는다
- URL을 입력하면 앞 글자들을 포함하는 완결된 형태의 URL들을 선택하게 해준다

---

## 2.4 안전하지 않은 문자

안전한 전송이란, 정보가 유실될 위험 없이 URL을 전송할 수 있다는 것을 의미한다

전자메일에 사용되는 SMTP같은 프로토콜은 특정 문자를 제거할 수도 있는 전송방식을 사용한다

URL 설계자들은 모든 인터넷 프로토콜로 URL이 전송될 수 있기를 바랬고, 가독성도 있기를 바랬다

따라서 출력이 되지 않거나 보이지 않는 문자는 URL에서 금지되었다

추가로 URL은 더 완벽해지기 위해 이스케이프라는 기능을 추가하여, 안전하지 않은 문자를 안전한 문자로 인코딩 할 수 있게 하였다


### 2.4.1 URL 문자 집합

URL은 영어뿐만 아니라 특정 이진 데이터를 포함해야 하는 경우도 있다

따라서 이스케이프 문자열을 쓸 수 있게 설계하였다


### 2.4.2 인코딩 체계

~: ASCII → 126 (0x7E)

빈 문자: ASCII → 32 (0x20)

%: ASCII → 37 (0x25)


### 2.4.3 문자 제한

몇몇 문자는 URL 내에서 특별한 의미로 예약되어 있다

URL에서 예약된 문자들을 본래 목적이 아닌 다른 용도로 사용하려면, 반드시 인코딩 해야하는 문자열은 아래와 같다
-   % : 인코딩된 문자에 사용할 이스케이프 토큰
-   / : 경로 컴포넌트에 있는 경로 세그먼트를 나누는 용도
-   . : 경로 컴포넌트
-   .. : 경로 컴포넌트
-   # : 프래그먼트의 구획 문자
-   ? : 질의 문자열의 구획 문자
-   ; : 파라미터의 구획 문자
-   : : 스킴, 사용자 이름/비밀번호, 호스트/포트의 구획 문자
-   $ , + : 선점
-   @ & = : 특정 스킴에서 특별한 의미
-   { } | \ . ~ [ ] ` : 게이트웨이와 같은 여러 전송 에이전트에서 불안전하게 다룸
-   < > “ : 안전하지 않음
-   0x00-0x1F, 0x7F : 제한, 인쇄되지 않는 US-ASCII 문자
-   > 0x7F : 제한, 7비트 US-ASCII 문자가 아니다

---

## 2.5 스킴의 바다

-   http
    -   사용자 이름이나 비밀번호가 없다는 것을 제외하고는, 일반 URL 포맷을 지키는 하이퍼 텍스트 전송 프로토콜
    -   기본 포트값은 80
-   https
    -   http 스킴과 거의 같으며, HTTP 커넥션 양 끝단에서 암호화하기 위해 SSL을 사용한다는 차이가 있다
    -   기본 포트값은 443
-   malito
    -   이메일 주소를 가리키며, 인터넷 이메일 주소의 문법은 RFC 822에 기술되어 있다
-   ftp
    -   파일 전송 프로토콜 URL은 FTP 서버에 있는 파일을 내려받거나 올리고, 디렉터리에 있는 콘텐츠 목록을 가져오는데 사용할 수 있다
    -   URl 문법은 일반적은 URL vhaotdlek
-   rtsp, rtspu
    -   RTSP URL은 실시간 스트리밍 프로토콜을 통해서 읽을 수 있는 오디오 및 비디오와 같은 미디어 리소스 식별자다
    -   rtspu 스킴에 있는 u는 리소스를 읽기 위해 UDP 프로토콜이 사용됨을 뜻한다
-   file
    -   호스트기기에서 바로 접근할 수 있는 파일들을 나타낸다
    -   일반적은 URL 포맷을 따른다
    -   호스트 생략시, URL을 사용하고 있는 기기의 로컬호스트가 기본값이 된다
-   news
    -   news 스킴은 RFC 1036에 정의된 바와 같이 특정 문서나 뉴스 그룹에접근하는데 사용한다
-   talnet
    -   대화형 서비스에 접근하는데 사용한다
    -   리소스라고 할 수 있는 대화형 애플리케이션은 talnet 프로토콜에 접근할 수 있다